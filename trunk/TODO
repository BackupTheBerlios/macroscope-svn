По msftp
  1. не исключаются папки ни при каком условии

    exclude = *new_stru*;
    exclude = *NEW_STRU*;
    exclude = *\NEW_STRU\*;
    exclude = *\\NEW_STRU\\*;

    не работает NEW_STRU\\


  2. log_redirect = stdout; 
    Не работает при включенном в job log_file = "путь/файл";
    По-хорошему в таком случае нужно чтобы был и stdout и log_file.
    Т.е. дублирование лога везде.

  3. Не создаются каталоги к log_file, если их нет
    log_file = "...log\\lip2002.log";
    То есть если убить каталог log, то логи больше не пишутся :-(

  4. Переменные окружения в конфиге.

  5. Выполнение проги перед и после джоба.

  6. Синхронизация файлов т.е. удаление отсутствующих удалённо.

  7. Исправить глюк с датой модификации файлов.

По msmail
  1. Добавить кодовую страницу для хранения сообщений на диске
  2. Разделять сообщения на несколько очередей в отдельных
     каталогах по фиберу на каталог для избежания блокировок.
     Раскидывать основываясь на хеше идентификатора сообщения.
  3. Переписать вывод в лог файл на отдельный поток, что бы не
     блокировать файл, не блокировать поток, не блокировать фиберы.
     Т.е. нужно сообщения ставить в список и сразу возвращать
     управление потоку. Плюсы: можно писать сразу несколько сообщений
     за раз, например раз в секунду.
     Причем потоку надо поставить низкий приоритет.
  4. Переделать формат сообщений в файле: длинные строки хранить частями.
  5. Не хранить данные сообщений в памяти а индексировать файл.
